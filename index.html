<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üå± Dentro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="background-mesh"></div>

    <div class="app-wrapper">
        
        <!-- === SCREEN 1: WELCOME === -->
        <section id="welcome-screen" class="screen active">
            <div class="card login-card">
                
                <!-- Theme Toggle -->
                <button class="theme-toggle" title="Toggle Dark Mode">üåô</button>

                <div class="card-header">
                    <div class="icon-box">üå≥</div> <!-- Updated to Tree -->
                    <h1>Dentro</h1>
                    <p>Grow knowledge as a tree</p>
                </div>

                <div class="form-group">
                    <label>Language</label>
                    <div class="select-wrapper">
                        <select id="lang-select">
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="css">CSS</option>
                            <option value="java">Java</option>
                        </select>
                        <span class="select-arrow">‚ñº</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Difficulty</label>
                    <div class="segmented-control" id="diff-toggles">
                        <button class="seg-btn active" data-val="easy">Easy</button>
                        <button class="seg-btn" data-val="medium">Med</button>
                        <button class="seg-btn" data-val="hard">Hard</button>
                    </div>
                </div>

                <div class="form-group">
                    <label>Companion</label>
                    <div class="grid-4" id="plant-toggles">
                        <button class="tile-btn active" data-type="sakura" data-stages='["ü´ò","üå±","üåø","ü™¥","üå∑","üå∏"]'>üå∏</button>
                        <button class="tile-btn" data-type="cactus" data-stages='["ü´ò","üå±","üåµ","üåµ","üåµ","üèúÔ∏è"]'>üåµ</button>
                        <button class="tile-btn" data-type="pine" data-stages='["ü´ò","üå±","üåø","üå≤","üå≤","üéÑ"]'>üå≤</button>
                        <button class="tile-btn" data-type="sunflower" data-stages='["ü´ò","üå±","üåø","ü™¥","üåº","üåª"]'>üåª</button>
                    </div>
                </div>

                <button id="start-btn" class="btn btn-black btn-full">Start New Game</button>
                
                <footer class="login-footer"></footer>
            </div>
        </section>

        <!-- === SCREEN 2: GAME === -->
        <section id="game-screen" class="screen">
            <header class="top-nav">
                <!-- NEW: Left side container with Button + BRANDING -->
                <div class="nav-left">
                    <button id="quit-btn" class="nav-btn" title="Quit Game">‚úï</button>
                    <div class="app-brand">
                        <span class="brand-icon">üå≥</span>
                        <span class="brand-name">Dentro</span>
                    </div>
                </div>

                <div class="badges">
                    <span id="badge-lang" class="badge">JS</span>
                    <span id="badge-diff" class="badge">Easy</span>
                </div>

                <div class="right-nav">
                    <button class="theme-toggle nav-btn" title="Toggle Dark Mode">üåô</button>
                    <button id="sound-btn" class="nav-btn active">üîä</button>
                </div>
            </header>

            <div class="game-grid">
                <!-- Left: Garden Visualization -->
                <div class="garden-card">
                    <div class="stats-row">
                        <div class="stat-item">
                            <span class="label">Streak</span>
                            <span class="value" id="disp-streak">0</span>
                        </div>
                        <div class="stat-item right">
                            <span class="label">Health</span>
                            <span class="value" id="disp-health">100%</span>
                        </div>
                    </div>

                    <div class="viewport">
                        <div id="plant-actor" class="emoji-plant">ü´ò</div>
                        <div class="ground-line"></div>
                    </div>

                    <div class="progress-area">
                        <div class="progress-track">
                            <div id="progress-bar" style="width: 0%"></div>
                        </div>
                        <p id="msg-text">Ready to grow?</p>
                    </div>
                </div>

                <!-- Right: Interaction -->
                <div class="quiz-card">
                    <div class="quiz-header">
                        <span id="q-num">Q1</span>
                        <span id="q-total">/ 10</span>
                    </div>

                    <div class="question-body">
                        <h2 id="q-text">Loading question...</h2>
                        <div id="options-list" class="options-stack">
                            <!-- Buttons injected here -->
                        </div>
                    </div>

                    <div id="feedback-box" class="feedback hidden">
                        <div class="fb-icon" id="fb-icon">‚úÖ</div>
                        <div class="fb-content">
                            <h4 id="fb-title">Correct!</h4>
                            <p id="fb-desc">Explanation text here.</p>
                        </div>
                    </div>

                    <div class="quiz-footer">
                        <button id="hint-btn" class="btn btn-ghost">üí° Hint</button>
                        <button id="next-btn" class="btn btn-primary hidden">Next</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- === SCREEN 3: RESULTS === -->
        <section id="result-screen" class="screen">
            <div class="card result-card">
                <div id="result-icon" class="result-emoji">üèÜ</div>
                <h2 id="result-title">Level Complete!</h2>
                <p id="result-sub">You grew a magnificent plant.</p>

                <div class="score-board">
                    <div class="score-item">
                        <span class="lbl">Score</span>
                        <span class="val" id="end-score">8/10</span>
                    </div>
                    <div class="score-item">
                        <span class="lbl">Streak</span>
                        <span class="val" id="end-streak">5</span>
                    </div>
                </div>

                <div class="action-stack">
                    <button id="restart-btn" class="btn btn-primary btn-full">Play Again</button>
                    <button id="home-btn" class="btn btn-ghost btn-full">Back to Home</button>
                </div>
            </div>
        </section>

    </div>

    <script src="questions.js"></script>
    <script src="script.js"></script>
</body>
</html>