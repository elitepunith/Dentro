<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dentro 2.0 | Master Code</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Animated Background -->
    <div class="ambient-bg"></div>

    <div class="app-container">
        
        <!-- === SCREEN 1: WELCOME (Redesigned) === -->
        <section id="welcome-screen" class="screen active glass-panel">
            <div class="welcome-header">
                <div class="logo-wrapper">
                    <span class="logo-emoji floating">üå±</span>
                </div>
                <h1>Dentro</h1>
                <p class="tagline">Grow your knowledge. One line at a time.</p>
            </div>

            <!-- This appears if a save file exists -->
            <div id="continue-area" class="hidden">
                <button id="continue-btn" class="main-btn pulse-anim">
                    Resume Journey üöÄ
                    <span id="save-info" class="btn-subtext">Level 5 ‚Ä¢ Sakura</span>
                </button>
                <div class="divider"><span>OR</span></div>
            </div>

            <div class="settings-wrapper">
                <div class="setting-row">
                    <label>Language</label>
                    <div class="custom-select">
                        <select id="language-select">
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="css">CSS</option>
                            <option value="java">Java</option>
                        </select>
                    </div>
                </div>

                <div class="setting-row">
                    <label>Difficulty</label>
                    <div class="pill-toggles" id="difficulty-toggles">
                        <button class="pill-btn active" data-value="easy">Easy</button>
                        <button class="pill-btn" data-value="medium">Med</button>
                        <button class="pill-btn" data-value="hard">Hard</button>
                    </div>
                </div>

                <div class="plant-selector">
                    <label>Choose Companion</label>
                    <div class="plant-grid" id="plant-toggles">
                        <button class="plant-btn active" data-type="sakura" data-stages='["ü´ò","üå±","üåø","ü™¥","üå∑","üå∏"]'>üå∏</button>
                        <button class="plant-btn" data-type="cactus" data-stages='["ü´ò","üå±","üåµ","üåµ","üåµ","üèúÔ∏è"]'>üåµ</button>
                        <button class="plant-btn" data-type="tree" data-stages='["ü´ò","üå±","üåø","üå≤","üå≤","üéÑ"]'>üå≤</button>
                        <button class="plant-btn" data-type="sunflower" data-stages='["ü´ò","üå±","üåø","ü™¥","üåº","üåª"]'>üåª</button>
                    </div>
                </div>

                <button id="start-btn" class="main-btn">Start New Game üå±</button>
            </div>
            
            <footer class="app-footer">
                v2.0 ‚Ä¢ Auto-saving enabled
            </footer>
        </section>

        <!-- === SCREEN 2: GAME === -->
        <section id="game-screen" class="screen">
            <header class="game-header glass-header">
                <button id="quit-btn" class="icon-btn" title="Save & Quit">üíæ</button>
                <div class="header-badges">
                    <span class="badge" id="lang-badge">JS</span>
                    <span class="badge" id="diff-badge">Easy</span>
                </div>
                <button id="sound-btn" class="icon-btn active" title="Toggle Sound">üîä</button>
            </header>

            <main class="game-layout">
                <!-- Garden -->
                <div class="garden-panel glass-panel">
                    <div class="live-stats">
                        <div class="stat"><span>üî• Streak</span> <b id="score-streak">0</b></div>
                        <div class="stat"><span>‚ù§Ô∏è Health</span> <b id="score-health">100%</b></div>
                    </div>

                    <div class="garden-display">
                        <div class="plant-container">
                            <div id="main-plant" class="plant-emoji">ü´ò</div>
                            <div class="shadow"></div>
                            <!-- Particles will be injected here via JS -->
                        </div>
                    </div>

                    <div class="progress-wrapper">
                        <div class="progress-bar">
                            <div id="growth-fill" style="width: 0%"></div>
                        </div>
                        <p id="motivational-text">Let's grow!</p>
                    </div>
                </div>

                <!-- Quiz -->
                <div class="quiz-panel glass-panel">
                    <div class="question-meta">
                        <span id="q-number">Question 1</span>
                        <span id="q-remaining">Total: 50</span>
                    </div>

                    <div class="question-scroll-area">
                        <p id="question-text">Loading...</p>
                        <div id="options-container"></div>
                    </div>

                    <div id="feedback-area" class="feedback hidden">
                        <p id="feedback-msg"></p>
                        <p id="feedback-detail"></p>
                    </div>

                    <div class="action-bar">
                        <button id="hint-btn" class="secondary-btn">üí° Hint</button>
                        <button id="next-btn" class="main-btn hidden">Next Question ‚Üí</button>
                    </div>
                </div>
            </main>
        </section>

        <!-- === SCREEN 3: RESULTS === -->
        <section id="result-screen" class="screen glass-panel">
            <div class="result-content text-center">
                <h2 id="result-title">Game Over</h2>
                <div id="result-plant" class="giant-plant">ü•Ä</div>
                
                <div class="stats-grid">
                    <div class="stat-box">
                        <label>Correct</label>
                        <span id="final-correct">0</span>
                    </div>
                    <div class="stat-box">
                        <label>Streak</label>
                        <span id="final-streak">0</span>
                    </div>
                </div>
                
                <button id="restart-btn" class="main-btn">New Game üîÑ</button>
                <button id="clear-save-btn" class="text-btn">Clear Save Data</button>
            </div>
        </section>

    </div>

    <script src="questions.js"></script>
    <script src="script.js"></script>
</body>
</html>